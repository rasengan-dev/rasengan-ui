{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "upload-02",
  "title": "Upload card 2",
  "description": "Upload card 2",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "button"
  ],
  "files": [
    {
      "path": "src/registry/application-ui/cards/upload/upload2.tsx",
      "content": "import { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { UploadCloud, X } from \"lucide-react\";\nimport { ComponentProps, useRef, useState } from \"react\";\n\ntype Props = {\n\tclassName?: ComponentProps<\"section\">[\"className\"];\n};\n\ntype FileObj = {\n\tid: number;\n\tdata: File;\n\tuploading: boolean;\n\tpercentage: number;\n};\n\nexport const UploadFileCard2 = ({ className }: Props) => {\n\tconst inputRef = useRef<HTMLInputElement>(null);\n\n\tconst [files, setFiles] = useState<Array<FileObj>>([]);\n\tconst [isDragging, setIsDragging] = useState(false);\n\n\tconst handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst files = event.target.files ?? [];\n\t\tconst filesToUpload: FileObj[] = [];\n\n\t\tfor (const file of files) {\n\t\t\tfilesToUpload.push({\n\t\t\t\tid: Date.now() + Math.floor(Math.random() * 100),\n\t\t\t\tdata: file,\n\t\t\t\tuploading: true,\n\t\t\t\tpercentage: 0,\n\t\t\t});\n\t\t}\n\n\t\tsetFiles((files) => [\n\t\t\t...files,\n\t\t\t...filesToUpload.slice(0, 4 - files.length),\n\t\t]);\n\t};\n\n\tconst handleDropComponent = (e: React.DragEvent<HTMLDivElement>) => {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\n\t\tconst files = e.dataTransfer.files ?? [];\n\t\tconst filesToUpload: FileObj[] = [];\n\n\t\tfor (const file of files) {\n\t\t\tfilesToUpload.push({\n\t\t\t\tid: Date.now(),\n\t\t\t\tdata: file,\n\t\t\t\tuploading: true,\n\t\t\t\tpercentage: 0,\n\t\t\t});\n\t\t}\n\n\t\tsetFiles((files) => [\n\t\t\t...files,\n\t\t\t...filesToUpload.slice(0, 4 - files.length),\n\t\t]);\n\t\tsetIsDragging(false);\n\t};\n\n\tconst handleOpenFileExplorer = () => {\n\t\tinputRef.current?.click();\n\t};\n\n\tconst handleDeleteFile = (fileId: number) => {\n\t\tconst prevFiles = [...files];\n\n\t\tconst index = files.findIndex((file) => file.id === fileId);\n\n\t\tif (index !== -1) {\n\t\t\tprevFiles.splice(index, 1);\n\n\t\t\tsetFiles(prevFiles);\n\t\t}\n\t};\n\n\tconst generateReadableImage = (file: File) => URL.createObjectURL(file);\n\n\treturn (\n\t\t<article\n\t\t\tclassName={cn(\n\t\t\t\t\"relative w-full max-w-[600px] rounded-2xl shadow-md bg-background dark:border-[1px] border-border\",\n\t\t\t\tclassName\n\t\t\t)}\n\t\t>\n\t\t\t<div className='h-[60px] border-b border-border flex items-center justify-between px-4'>\n\t\t\t\t<span className='font-medium text-md text-foreground/70'>\n\t\t\t\t\tUpload Images\n\t\t\t\t</span>\n\t\t\t\t<Button variant={\"outline\"} size={\"icon\"} className='size-8'>\n\t\t\t\t\t<X size={14} className='text-foreground' />\n\t\t\t\t</Button>\n\t\t\t</div>\n\n\t\t\t<div className='w-full flex flex-col p-4'>\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"border-[1px] border-border border-dashed min-h-[200px] w-full rounded-xl flex flex-col items-center justify-center gap-4 py-4\",\n\t\t\t\t\t\tisDragging && \"bg-muted\"\n\t\t\t\t\t)}\n\t\t\t\t\tonDragOver={(e: React.DragEvent<HTMLDivElement>) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}}\n\t\t\t\t\tonDragEnter={(e: React.DragEvent<HTMLDivElement>) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tsetIsDragging(true);\n\t\t\t\t\t}}\n\t\t\t\t\tonDragLeave={(e: React.DragEvent<HTMLDivElement>) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tsetIsDragging(false);\n\t\t\t\t\t}}\n\t\t\t\t\tonDrop={handleDropComponent}\n\t\t\t\t>\n\t\t\t\t\t<UploadCloud className='text-muted-foreground' />\n\n\t\t\t\t\t<div className='w-full flex flex-col items-center gap-2 px-4'>\n\t\t\t\t\t\t<h2 className='text-foreground font-bold text-center text-pretty'>\n\t\t\t\t\t\t\tChoose a file or drag and drop it here\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p className='text-sm text-muted-foreground text-center text-pretty'>\n\t\t\t\t\t\t\tJPEG, PNG, GIF and WEBP formats up to 10 MB\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleOpenFileExplorer}\n\t\t\t\t\t\tdisabled={files.length === 4}\n\t\t\t\t\t>\n\t\t\t\t\t\tBrowse File\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='file'\n\t\t\t\t\t\tref={inputRef}\n\t\t\t\t\t\thidden\n\t\t\t\t\t\tonChange={handleFileChange}\n\t\t\t\t\t\tmultiple\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className='grid grid-cols-4 w-full gap-4 mt-4'>\n\t\t\t\t\t{files.map((file) => (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tkey={file.id}\n\t\t\t\t\t\t\tclassName='relative bg-muted aspect-square rounded-lg overflow-hidden'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={generateReadableImage(file.data)}\n\t\t\t\t\t\t\t\talt='Image'\n\t\t\t\t\t\t\t\tclassName=\"w-full h-full object-cover\"\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tonClick={() => handleDeleteFile(file.id)}\n\t\t\t\t\t\t\t\tclassName='absolute right-1 top-1 size-6 bg-red-400 rounded-full flex items-center justify-center'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<X\n\t\t\t\t\t\t\t\t\tsize={16}\n\t\t\t\t\t\t\t\t\tclassName='text-primary-foreground dark:text-primary'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\n\t\t\t\t\t{files.length < 4 &&\n\t\t\t\t\t\tnew Array(4 - files.length)\n\t\t\t\t\t\t\t.fill(0)\n\t\t\t\t\t\t\t.map((_, index) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tclassName='bg-muted aspect-square rounded-lg'\n\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t</div>\n\n\t\t\t\t<Button className='mt-4'>Upload</Button>\n\t\t\t</div>\n\t\t</article>\n\t);\n};\n",
      "type": "registry:component"
    }
  ],
  "type": "registry:block"
}